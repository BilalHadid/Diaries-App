[{"/home/bilal/diaries-app/src/index.tsx":"1","/home/bilal/diaries-app/src/reportWebVitals.ts":"2","/home/bilal/diaries-app/src/App.tsx":"3","/home/bilal/diaries-app/src/services/mirage/server.ts":"4","/home/bilal/diaries-app/src/services/mirage/routes/diary.ts":"5","/home/bilal/diaries-app/src/services/mirage/routes/user.ts":"6","/home/bilal/diaries-app/src/store/store.ts":"7","/home/bilal/diaries-app/src/rootReducer/rootReducer.ts":"8","/home/bilal/diaries-app/src/features/auth/authSlice.ts":"9","/home/bilal/diaries-app/src/features/auth/userSlice.ts":"10","/home/bilal/diaries-app/src/features/diary/diariesSlice.ts":"11","/home/bilal/diaries-app/src/features/entry/entrySlice.ts":"12","/home/bilal/diaries-app/src/features/entry/editorSlice.ts":"13","/home/bilal/diaries-app/src/features/home/Home.tsx":"14","/home/bilal/diaries-app/src/features/auth/Auth.tsx":"15","/home/bilal/diaries-app/src/services/api.ts":"16","/home/bilal/diaries-app/src/utils.ts":"17","/home/bilal/diaries-app/src/component/Diaries.tsx":"18","/home/bilal/diaries-app/src/component/Editor.tsx":"19","/home/bilal/diaries-app/src/component/DiaryTile.tsx":"20","/home/bilal/diaries-app/src/component/DiaryEntryList.tsx":"21"},{"size":743,"mtime":1608929614810,"results":"22","hashOfConfig":"23"},{"size":425,"mtime":1608841245085,"results":"24","hashOfConfig":"23"},{"size":735,"mtime":1608933357449,"results":"25","hashOfConfig":"23"},{"size":1409,"mtime":1608926253346,"results":"26","hashOfConfig":"23"},{"size":2976,"mtime":1608925808252,"results":"27","hashOfConfig":"23"},{"size":1227,"mtime":1608928122410,"results":"28","hashOfConfig":"23"},{"size":337,"mtime":1608929541671,"results":"29","hashOfConfig":"23"},{"size":588,"mtime":1608929440779,"results":"30","hashOfConfig":"23"},{"size":646,"mtime":1608928543377,"results":"31","hashOfConfig":"23"},{"size":419,"mtime":1608928629075,"results":"32","hashOfConfig":"23"},{"size":806,"mtime":1608928685525,"results":"33","hashOfConfig":"23"},{"size":677,"mtime":1608928729663,"results":"34","hashOfConfig":"23"},{"size":918,"mtime":1608928775157,"results":"35","hashOfConfig":"23"},{"size":360,"mtime":1609008575221,"results":"36","hashOfConfig":"23"},{"size":3018,"mtime":1608932602269,"results":"37","hashOfConfig":"23"},{"size":946,"mtime":1608927116427,"results":"38","hashOfConfig":"23"},{"size":552,"mtime":1608927004996,"results":"39","hashOfConfig":"23"},{"size":2858,"mtime":1609008387729,"results":"40","hashOfConfig":"23"},{"size":3717,"mtime":1609004753461,"results":"41","hashOfConfig":"23"},{"size":2410,"mtime":1609006974534,"results":"42","hashOfConfig":"23"},{"size":1564,"mtime":1609008029967,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"1t40glh",{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"46"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"46"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"46"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/home/bilal/diaries-app/src/index.tsx",[],["90","91"],"/home/bilal/diaries-app/src/reportWebVitals.ts",[],"/home/bilal/diaries-app/src/App.tsx",[],"/home/bilal/diaries-app/src/services/mirage/server.ts",[],"/home/bilal/diaries-app/src/services/mirage/routes/diary.ts",[],"/home/bilal/diaries-app/src/services/mirage/routes/user.ts",["92"],"import { Response, Request } from \"miragejs\";\nimport { handleErrors } from \"../server\";\nimport { User } from \"../../../interface/user.interface\";\nimport { randomBytes } from \"crypto\";\n\nexport interface AuthResponse {\n  token: string;\n  user: User;\n}\nconst generateToken = () => randomBytes(8).toString(\"hex\");\n\nconst login = (schema: any, req: Request): AuthResponse | Response => {\n  const { username, password } = JSON.parse(req.requestBody);\n  const user = schema.users.findBy({ username });\n  if (!user) {\n    return handleErrors(null, \"No user with that username exists\");\n  }\n  if (password !== user.password) {\n    return handleErrors(null, \"Password is incorrect\");\n  }\n  const token = generateToken();\n  return {\n    user: user.attrs as User,\n    token,\n  };\n};\n\nconst signup = (schema: any, req: Request): AuthResponse | Response => {\n  const data = JSON.parse(req.requestBody);\n  const exUser = schema.users.findBy({ username: data.username });\n  if (exUser) {\n    return handleErrors(null, \"A user with that username already exists.\");\n  }\n  const user = schema.users.create(data);\n  const token = generateToken();\n  return {\n    user: user.attrs as User,\n    token,\n  };\n};\n\nexport default {\n  login,\n  signup,\n};\n","/home/bilal/diaries-app/src/store/store.ts",[],"/home/bilal/diaries-app/src/rootReducer/rootReducer.ts",[],"/home/bilal/diaries-app/src/features/auth/authSlice.ts",["93"],"import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\ninterface AuthState {\n  token: string | null;\n  isAuthenticated: boolean;\n}\n\nconst initialState: AuthState = {\n  token: null,\n  isAuthenticated: false,\n};\n\nconst auth = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    saveToken(state, { payload }) {\n      if (payload) {\n        state.token = payload;\n      }\n    },\n    clearToken(state) {\n      state.token = null;\n    },\n    setAuthState(state, { payload }) {\n      state.isAuthenticated = payload;\n    },\n  },\n});\n\nexport const { saveToken, clearToken, setAuthState } = auth.actions;\nexport default auth.reducer;\n","/home/bilal/diaries-app/src/features/auth/userSlice.ts",[],"/home/bilal/diaries-app/src/features/diary/diariesSlice.ts",[],"/home/bilal/diaries-app/src/features/entry/entrySlice.ts",[],"/home/bilal/diaries-app/src/features/entry/editorSlice.ts",[],"/home/bilal/diaries-app/src/features/home/Home.tsx",[],"/home/bilal/diaries-app/src/features/auth/Auth.tsx",["94","95"],"import React, { FC, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { User } from \"../../interface/user.interface\";\nimport * as Yup from \"yup\";\nimport http from \"../../services/api\";\nimport { saveToken, setAuthState } from \"./authSlice\";\nimport { setUser } from \"./userSlice\";\nimport { AuthResponse } from \"../../services/mirage/routes/user\";\nimport { useAppDispatch } from \"../../store/store\";\n\nconst schema = Yup.object().shape({\n  username: Yup.string()\n    .required(\"What? No username?\")\n    .max(16, \"Username cannot be longer than 16 characters\"),\n  password: Yup.string().required('Without a password, \"None shall pass!\"'),\n  email: Yup.string().email(\"Please provide a valid email address (abc@xy.z)\"),\n});\n\nconst Auth: FC = () => {\n  const { handleSubmit, register, errors } = useForm<User>({});\n  const [isLogin, setIsLogin] = useState(true);\n  const [loading, setLoading] = useState(false);\n  const dispatch = useAppDispatch();\n\n  const submitForm = (data: User) => {\n    const path = isLogin ? \"/auth/login\" : \"/auth/signup\";\n    http\n      .post(path, data)\n      .then((res: any) => {\n        if (res) {\n          const { user, token } = res;\n          dispatch(saveToken(token));\n          dispatch(setUser(user));\n          dispatch(setAuthState(true));\n        }\n      })\n      .catch((error: any) => {\n        console.log(error);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  return (\n    <div className=\"auth\">\n      <div className=\"card\">\n        <form onSubmit={handleSubmit(submitForm)}>\n          <div className=\"inputWrapper\">\n            <input ref={register} name=\"username\" placeholder=\"Username\" />\n            {errors && errors.username && (\n              <p className=\"error\">{errors.username.message}</p>\n            )}\n          </div>\n          <div className=\"inputWrapper\">\n            <input\n              ref={register}\n              name=\"password\"\n              type=\"password\"\n              placeholder=\"Password\"\n            />\n            {errors && errors.password && (\n              <p className=\"error\">{errors.password.message}</p>\n            )}\n          </div>\n          {!isLogin && (\n            <div className=\"inputWrapper\">\n              <input\n                ref={register}\n                name=\"email\"\n                placeholder=\"Email (optional)\"\n              />\n              {errors && errors.email && (\n                <p className=\"error\">{errors.email.message}</p>\n              )}\n            </div>\n          )}\n          <div className=\"inputWrapper\">\n            <button type=\"submit\" disabled={loading}>\n              {isLogin ? \"Login\" : \"Create account\"}\n            </button>\n          </div>\n          <p\n            onClick={() => setIsLogin(!isLogin)}\n            style={{ cursor: \"pointer\", opacity: 0.7 }}\n          >\n            {isLogin ? \"No account? Create one\" : \"Already have an account?\"}\n          </p>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Auth;\n","/home/bilal/diaries-app/src/services/api.ts",[],"/home/bilal/diaries-app/src/utils.ts",[],"/home/bilal/diaries-app/src/component/Diaries.tsx",[],"/home/bilal/diaries-app/src/component/Editor.tsx",["96"],"/home/bilal/diaries-app/src/component/DiaryTile.tsx",[],"/home/bilal/diaries-app/src/component/DiaryEntryList.tsx",["97"],{"ruleId":"98","replacedBy":"99"},{"ruleId":"100","replacedBy":"101"},{"ruleId":"102","severity":1,"message":"103","line":42,"column":1,"nodeType":"104","endLine":45,"endColumn":3},{"ruleId":"105","severity":1,"message":"106","line":1,"column":23,"nodeType":"107","messageId":"108","endLine":1,"endColumn":36},{"ruleId":"105","severity":1,"message":"109","line":8,"column":10,"nodeType":"107","messageId":"108","endLine":8,"endColumn":22},{"ruleId":"105","severity":1,"message":"110","line":11,"column":7,"nodeType":"107","messageId":"108","endLine":11,"endColumn":13},{"ruleId":"105","severity":1,"message":"111","line":7,"column":10,"nodeType":"107","messageId":"108","endLine":7,"endColumn":15},{"ruleId":"105","severity":1,"message":"112","line":6,"column":10,"nodeType":"107","messageId":"108","endLine":6,"endColumn":15},"no-native-reassign",["113"],"no-negated-in-lhs",["114"],"import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","@typescript-eslint/no-unused-vars","'PayloadAction' is defined but never used.","Identifier","unusedVar","'AuthResponse' is defined but never used.","'schema' is assigned a value but never used.","'Diary' is defined but never used.","'Entry' is defined but never used.","no-global-assign","no-unsafe-negation"]
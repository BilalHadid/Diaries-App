[{"/home/bilal/diaries-app/src/index.tsx":"1","/home/bilal/diaries-app/src/reportWebVitals.ts":"2","/home/bilal/diaries-app/src/App.tsx":"3","/home/bilal/diaries-app/src/services/mirage/server.ts":"4","/home/bilal/diaries-app/src/services/mirage/routes/diary.ts":"5","/home/bilal/diaries-app/src/services/mirage/routes/user.ts":"6","/home/bilal/diaries-app/src/store/store.ts":"7","/home/bilal/diaries-app/src/rootReducer/rootReducer.ts":"8","/home/bilal/diaries-app/src/features/auth/authSlice.ts":"9","/home/bilal/diaries-app/src/features/auth/userSlice.ts":"10","/home/bilal/diaries-app/src/features/diary/diariesSlice.ts":"11","/home/bilal/diaries-app/src/features/entry/entrySlice.ts":"12","/home/bilal/diaries-app/src/features/entry/editorSlice.ts":"13","/home/bilal/diaries-app/src/features/home/Home.tsx":"14","/home/bilal/diaries-app/src/features/auth/Auth.tsx":"15","/home/bilal/diaries-app/src/services/api.ts":"16","/home/bilal/diaries-app/src/utils.ts":"17","/home/bilal/diaries-app/src/features/entry/Editor.tsx":"18","/home/bilal/diaries-app/src/features/diary/Diaries.tsx":"19","/home/bilal/diaries-app/src/features/diary/DiaryTile.tsx":"20","/home/bilal/diaries-app/src/features/diary/DiaryEntryList.tsx":"21","/home/bilal/diaries-app/src/interface/entry.interface.ts":"22"},{"size":743,"mtime":1608929614810,"results":"23","hashOfConfig":"24"},{"size":425,"mtime":1608841245085,"results":"25","hashOfConfig":"24"},{"size":865,"mtime":1609024052231,"results":"26","hashOfConfig":"24"},{"size":1409,"mtime":1608926253346,"results":"27","hashOfConfig":"24"},{"size":2975,"mtime":1609014981936,"results":"28","hashOfConfig":"24"},{"size":1227,"mtime":1608928122410,"results":"29","hashOfConfig":"24"},{"size":337,"mtime":1608929541671,"results":"30","hashOfConfig":"24"},{"size":588,"mtime":1608929440779,"results":"31","hashOfConfig":"24"},{"size":646,"mtime":1608928543377,"results":"32","hashOfConfig":"24"},{"size":419,"mtime":1608928629075,"results":"33","hashOfConfig":"24"},{"size":806,"mtime":1608928685525,"results":"34","hashOfConfig":"24"},{"size":676,"mtime":1609014984072,"results":"35","hashOfConfig":"24"},{"size":917,"mtime":1609014991792,"results":"36","hashOfConfig":"24"},{"size":346,"mtime":1609024018154,"results":"37","hashOfConfig":"24"},{"size":3054,"mtime":1609024713121,"results":"38","hashOfConfig":"24"},{"size":946,"mtime":1608927116427,"results":"39","hashOfConfig":"24"},{"size":552,"mtime":1608927004996,"results":"40","hashOfConfig":"24"},{"size":3693,"mtime":1609014994472,"results":"41","hashOfConfig":"24"},{"size":2871,"mtime":1609024190894,"results":"42","hashOfConfig":"24"},{"size":2397,"mtime":1609023524410,"results":"43","hashOfConfig":"24"},{"size":1611,"mtime":1609020766707,"results":"44","hashOfConfig":"24"},{"size":142,"mtime":1609014989764,"results":"45","hashOfConfig":"24"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"1t40glh",{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"48"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"48"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"48"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/bilal/diaries-app/src/index.tsx",[],["94","95"],"/home/bilal/diaries-app/src/reportWebVitals.ts",[],"/home/bilal/diaries-app/src/App.tsx",[],"/home/bilal/diaries-app/src/services/mirage/server.ts",[],"/home/bilal/diaries-app/src/services/mirage/routes/diary.ts",[],"/home/bilal/diaries-app/src/services/mirage/routes/user.ts",["96"],"import { Response, Request } from \"miragejs\";\nimport { handleErrors } from \"../server\";\nimport { User } from \"../../../interface/user.interface\";\nimport { randomBytes } from \"crypto\";\n\nexport interface AuthResponse {\n  token: string;\n  user: User;\n}\nconst generateToken = () => randomBytes(8).toString(\"hex\");\n\nconst login = (schema: any, req: Request): AuthResponse | Response => {\n  const { username, password } = JSON.parse(req.requestBody);\n  const user = schema.users.findBy({ username });\n  if (!user) {\n    return handleErrors(null, \"No user with that username exists\");\n  }\n  if (password !== user.password) {\n    return handleErrors(null, \"Password is incorrect\");\n  }\n  const token = generateToken();\n  return {\n    user: user.attrs as User,\n    token,\n  };\n};\n\nconst signup = (schema: any, req: Request): AuthResponse | Response => {\n  const data = JSON.parse(req.requestBody);\n  const exUser = schema.users.findBy({ username: data.username });\n  if (exUser) {\n    return handleErrors(null, \"A user with that username already exists.\");\n  }\n  const user = schema.users.create(data);\n  const token = generateToken();\n  return {\n    user: user.attrs as User,\n    token,\n  };\n};\n\nexport default {\n  login,\n  signup,\n};\n","/home/bilal/diaries-app/src/store/store.ts",[],"/home/bilal/diaries-app/src/rootReducer/rootReducer.ts",[],"/home/bilal/diaries-app/src/features/auth/authSlice.ts",["97"],"import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\ninterface AuthState {\n  token: string | null;\n  isAuthenticated: boolean;\n}\n\nconst initialState: AuthState = {\n  token: null,\n  isAuthenticated: false,\n};\n\nconst auth = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    saveToken(state, { payload }) {\n      if (payload) {\n        state.token = payload;\n      }\n    },\n    clearToken(state) {\n      state.token = null;\n    },\n    setAuthState(state, { payload }) {\n      state.isAuthenticated = payload;\n    },\n  },\n});\n\nexport const { saveToken, clearToken, setAuthState } = auth.actions;\nexport default auth.reducer;\n","/home/bilal/diaries-app/src/features/auth/userSlice.ts",[],"/home/bilal/diaries-app/src/features/diary/diariesSlice.ts",[],"/home/bilal/diaries-app/src/features/entry/entrySlice.ts",[],"/home/bilal/diaries-app/src/features/entry/editorSlice.ts",[],"/home/bilal/diaries-app/src/features/home/Home.tsx",[],"/home/bilal/diaries-app/src/features/auth/Auth.tsx",["98","99"],"/home/bilal/diaries-app/src/services/api.ts",[],"/home/bilal/diaries-app/src/utils.ts",[],"/home/bilal/diaries-app/src/features/entry/Editor.tsx",["100"],"import React, { FC, useState, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { RootState } from \"../../rootReducer/rootReducer\";\nimport Markdown from \"markdown-to-jsx\";\nimport http from \"../../services/api\";\nimport { Entry } from \"../../interface/entry.interface\";\nimport { Diary } from \"../../interface/diary.interface\";\nimport { setCurrentlyEditing, setCanEdit } from \"./editorSlice\";\nimport { updateDiary } from \"../diary/diariesSlice\";\nimport { updateEntry } from \"./entrySlice\";\nimport { showAlert } from \"../../utils\";\nimport { useAppDispatch } from \"../../store/store\";\n\nconst Editor: FC = () => {\n  const { currentlyEditing: entry, canEdit, activeDiaryId } = useSelector(\n    (state: RootState) => state.editor\n  );\n  const [editedEntry, updateEditedEntry] = useState(entry);\n  const dispatch = useAppDispatch();\n\n  const saveEntry = async () => {\n    if (activeDiaryId == null) {\n      return showAlert(\"Please select a diary.\", \"warning\");\n    }\n    if (entry == null) {\n      http\n        .post<Entry>(`/diaries/entry/${activeDiaryId}`, editedEntry)\n        .then((data) => {\n          if (data != null) {\n            const { diary, entry: _entry }: any = data;\n            dispatch(setCurrentlyEditing(_entry));\n            dispatch(updateDiary(diary));\n          }\n        });\n    } else {\n      http.put(`diaries/entry/${entry.id}`, editedEntry).then((_entry: any) => {\n        if (_entry != null) {\n          dispatch(setCurrentlyEditing(_entry));\n          dispatch(updateEntry(_entry));\n        }\n      });\n    }\n    dispatch(setCanEdit(false));\n  };\n\n  useEffect(() => {\n    updateEditedEntry(entry);\n  }, [entry]);\n\n  return (\n    <div className=\"editor\">\n      <header\n        style={{\n          display: \"flex\",\n          flexWrap: \"wrap\",\n          alignItems: \"center\",\n          marginBottom: \"0.2em\",\n          paddingBottom: \"0.2em\",\n          borderBottom: \"1px solid rgba(0,0,0,0.1)\",\n        }}\n      >\n        {entry && !canEdit ? (\n          <h4>\n            {entry.title}\n            <a\n              href=\"#edit\"\n              onClick={(e) => {\n                e.preventDefault();\n                if (entry != null) {\n                  dispatch(setCanEdit(true));\n                }\n              }}\n              style={{ marginLeft: \"0.4em\" }}\n            >\n              (Edit)\n            </a>\n          </h4>\n        ) : (\n          <input\n            value={editedEntry?.title ?? \"\"}\n            disabled={!canEdit}\n            onChange={(e) => {\n              if (editedEntry) {\n                updateEditedEntry({\n                  ...editedEntry,\n                  title: e.target.value,\n                });\n              } else {\n                updateEditedEntry({\n                  title: e.target.value,\n                  content: \"\",\n                });\n              }\n            }}\n          />\n        )}\n      </header>\n      {entry && !canEdit ? (\n        <Markdown>{entry.content}</Markdown>\n      ) : (\n        <>\n          <textarea\n            disabled={!canEdit}\n            placeholder=\"Supports markdown!\"\n            value={editedEntry?.content ?? \"\"}\n            onChange={(e) => {\n              if (editedEntry) {\n                updateEditedEntry({\n                  ...editedEntry,\n                  content: e.target.value,\n                });\n              } else {\n                updateEditedEntry({\n                  title: \"\",\n                  content: e.target.value,\n                });\n              }\n            }}\n          />\n          <button onClick={saveEntry} disabled={!canEdit}>\n            Save\n          </button>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Editor;\n","/home/bilal/diaries-app/src/features/diary/Diaries.tsx",["101","102","103","104"],"/home/bilal/diaries-app/src/features/diary/DiaryTile.tsx",[],"/home/bilal/diaries-app/src/features/diary/DiaryEntryList.tsx",[],"/home/bilal/diaries-app/src/interface/entry.interface.ts",[],{"ruleId":"105","replacedBy":"106"},{"ruleId":"107","replacedBy":"108"},{"ruleId":"109","severity":1,"message":"110","line":42,"column":1,"nodeType":"111","endLine":45,"endColumn":3},{"ruleId":"112","severity":1,"message":"113","line":1,"column":23,"nodeType":"114","messageId":"115","endLine":1,"endColumn":36},{"ruleId":"112","severity":1,"message":"116","line":8,"column":10,"nodeType":"114","messageId":"115","endLine":8,"endColumn":22},{"ruleId":"112","severity":1,"message":"117","line":11,"column":7,"nodeType":"114","messageId":"115","endLine":11,"endColumn":13},{"ruleId":"112","severity":1,"message":"118","line":7,"column":10,"nodeType":"114","messageId":"115","endLine":7,"endColumn":15},{"ruleId":"112","severity":1,"message":"119","line":10,"column":10,"nodeType":"114","messageId":"115","endLine":10,"endColumn":14},{"ruleId":"112","severity":1,"message":"120","line":11,"column":10,"nodeType":"114","messageId":"115","endLine":11,"endColumn":15},{"ruleId":"112","severity":1,"message":"121","line":11,"column":17,"nodeType":"114","messageId":"115","endLine":11,"endColumn":23},{"ruleId":"112","severity":1,"message":"122","line":12,"column":8,"nodeType":"114","messageId":"115","endLine":12,"endColumn":24},"no-native-reassign",["123"],"no-negated-in-lhs",["124"],"import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","@typescript-eslint/no-unused-vars","'PayloadAction' is defined but never used.","Identifier","unusedVar","'AuthResponse' is defined but never used.","'schema' is assigned a value but never used.","'Diary' is defined but never used.","'User' is defined but never used.","'Route' is defined but never used.","'Routes' is defined but never used.","'DiaryEntriesList' is defined but never used.","no-global-assign","no-unsafe-negation"]